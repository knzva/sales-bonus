<!doctype html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>–ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–¥–∞–∂ –º–∞–≥–∞–∑–∏–Ω–∞</title>
</head>
<body>
    <h1>–ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–¥–∞–∂ –º–∞–≥–∞–∑–∏–Ω–∞</h1>

    <script src="data/dataset_1.js"></script>
    <script src="src/main.js"></script>
    <script>
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –∑–∞–≥—Ä—É–∑–∏–ª–∏—Å—å –ª–∏ –¥–∞–Ω–Ω—ã–µ
        if (typeof data === 'undefined') {
            console.error('‚ùå –û—à–∏–±–∫–∞: –§–∞–π–ª –¥–∞–Ω–Ω—ã—Ö –Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª—Å—è!');
            console.log('üîç –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:');
            console.log('1. –°—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ —Ñ–∞–π–ª data/dataset_1.js');
            console.log('2. –ü—Ä–∞–≤–∏–ª—å–Ω–æ –ª–∏ —É–∫–∞–∑–∞–Ω –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É');
            console.log('3. –°–æ–¥–µ—Ä–∂–∏—Ç –ª–∏ —Ñ–∞–π–ª –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é data');
            document.body.innerHTML += '<div style="color: red; padding: 20px; background: #ffebee;">‚ùå –û—à–∏–±–∫–∞: –§–∞–π–ª –¥–∞–Ω–Ω—ã—Ö –Ω–µ –Ω–∞–π–¥–µ–Ω. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç—å data/dataset_1.js</div>';
        } else {
            console.log('‚úÖ –î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ');
            console.log(data);

            try {
                const report = analyzeSalesData(data, {
                    calculateRevenue: calculateSimpleRevenue,
                    calculateBonus: calculateBonusByProfit
                });

                console.log('‚úÖ –ê–Ω–∞–ª–∏–∑ –≤—ã–ø–æ–ª–Ω–µ–Ω —É—Å–ø–µ—à–Ω–æ');
                if (console.table) console.table(report);
                else console.log(report);
                
                document.body.innerHTML += '<div style="color: green; padding: 20px; background: #e8f5e8;">‚úÖ –ê–Ω–∞–ª–∏–∑ –≤—ã–ø–æ–ª–Ω–µ–Ω! –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ –∫–æ–Ω—Å–æ–ª–∏ (F12)</div>';
                
            } catch (error) {
                console.error('‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –∞–Ω–∞–ª–∏–∑–µ:', error);
                document.body.innerHTML += '<div style="color: red; padding: 20px; background: #ffebee;">‚ùå –û—à–∏–±–∫–∞: ' + error.message + '</div>';
            }
        }
    </script>
</body>
</html>
